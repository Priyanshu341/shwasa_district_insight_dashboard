// Based on data from https://github.com/gggodhwani/telangana_boundaries
// Simplified for performance in web applications

export const telanganaDistrictBoundaries = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "id": "adilabad",
        "name": "Adilabad",
        "centroid": [78.5369, 19.6741]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.405, 19.547], [78.493, 19.533], [78.546, 19.576], [78.639, 19.621], [78.719, 19.662], [78.771, 19.715], [78.795, 19.782], [78.749, 19.832], [78.664, 19.811], [78.605, 19.763], [78.531, 19.719], [78.46, 19.671], [78.412, 19.624], [78.405, 19.547]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "bhadradri",
        "name": "Bhadradri Kothagudem",
        "centroid": [80.6518, 17.5585]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[80.551, 17.467], [80.651, 17.443], [80.716, 17.496], [80.758, 17.564], [80.728, 17.632], [80.653, 17.673], [80.583, 17.643], [80.548, 17.591], [80.551, 17.467]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "hanumakonda",
        "name": "Hanumakonda",
        "centroid": [79.5865, 18.0048]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.536, 17.951], [79.592, 17.942], [79.631, 17.979], [79.624, 18.051], [79.571, 18.074], [79.537, 18.031], [79.536, 17.951]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "hyderabad",
        "name": "Hyderabad",
        "centroid": [78.4744, 17.3753]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.447, 17.347], [78.487, 17.338], [78.513, 17.365], [78.501, 17.401], [78.463, 17.413], [78.438, 17.391], [78.447, 17.347]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "jagtial",
        "name": "Jagtial",
        "centroid": [78.9185, 18.7957]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.861, 18.726], [78.917, 18.693], [78.979, 18.721], [79.007, 18.785], [78.963, 18.841], [78.909, 18.873], [78.861, 18.811], [78.861, 18.726]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "jangaon",
        "name": "Jangaon",
        "centroid": [79.1815, 17.7265]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.124, 17.672], [79.178, 17.652], [79.235, 17.686], [79.252, 17.751], [79.214, 17.801], [79.153, 17.796], [79.124, 17.727], [79.124, 17.672]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "jayashankar",
        "name": "Jayashankar Bhupalpally",
        "centroid": [79.8744, 18.1954]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.802, 18.127], [79.867, 18.113], [79.932, 18.168], [79.945, 18.231], [79.901, 18.279], [79.832, 18.267], [79.793, 18.213], [79.802, 18.127]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "jogulamba",
        "name": "Jogulamba Gadwal",
        "centroid": [77.8049, 16.2316]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[77.741, 16.171], [77.803, 16.145], [77.856, 16.197], [77.869, 16.274], [77.821, 16.318], [77.758, 16.293], [77.735, 16.231], [77.741, 16.171]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "kamareddy",
        "name": "Kamareddy",
        "centroid": [78.3465, 18.3207]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.275, 18.257], [78.349, 18.229], [78.413, 18.271], [78.428, 18.342], [78.379, 18.401], [78.309, 18.385], [78.271, 18.329], [78.275, 18.257]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "karimnagar",
        "name": "Karimnagar",
        "centroid": [79.1285, 18.4387]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.071, 18.381], [79.137, 18.359], [79.195, 18.398], [79.182, 18.471], [79.131, 18.512], [79.071, 18.481], [79.051, 18.423], [79.071, 18.381]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "khammam",
        "name": "Khammam",
        "centroid": [80.1513, 17.2477]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[80.087, 17.184], [80.161, 17.162], [80.231, 17.207], [80.245, 17.288], [80.203, 17.331], [80.131, 17.324], [80.091, 17.271], [80.087, 17.184]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "kumuram",
        "name": "Kumuram Bheem Asifabad",
        "centroid": [79.2861, 19.3644]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.219, 19.281], [79.296, 19.254], [79.357, 19.335], [79.352, 19.417], [79.287, 19.471], [79.219, 19.431], [79.198, 19.359], [79.219, 19.281]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "mahabubabad",
        "name": "Mahabubabad",
        "centroid": [79.9931, 17.5988]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.931, 17.541], [79.987, 17.521], [80.051, 17.571], [80.054, 17.641], [80.007, 17.685], [79.945, 17.671], [79.925, 17.607], [79.931, 17.541]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "mahabubnagar",
        "name": "Mahabubnagar",
        "centroid": [77.9823, 16.7576]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[77.913, 16.687], [78.015, 16.653], [78.093, 16.712], [78.058, 16.805], [77.982, 16.853], [77.904, 16.824], [77.883, 16.751], [77.913, 16.687]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "mancherial",
        "name": "Mancherial",
        "centroid": [79.4232, 18.8678]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.351, 18.813], [79.423, 18.783], [79.495, 18.827], [79.502, 18.907], [79.452, 18.957], [79.368, 18.927], [79.351, 18.851], [79.351, 18.813]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "medak",
        "name": "Medak",
        "centroid": [78.0888, 18.0528]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.032, 17.988], [78.109, 17.967], [78.156, 18.023], [78.143, 18.108], [78.084, 18.146], [78.021, 18.116], [78.003, 18.049], [78.032, 17.988]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "medchal",
        "name": "Medchal-Malkajgiri",
        "centroid": [78.5461, 17.5307]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.506, 17.471], [78.556, 17.456], [78.597, 17.505], [78.576, 17.557], [78.531, 17.581], [78.494, 17.547], [78.506, 17.471]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "mulugu",
        "name": "Mulugu",
        "centroid": [80.1681, 18.1937]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[80.105, 18.134], [80.165, 18.114], [80.223, 18.164], [80.217, 18.236], [80.172, 18.273], [80.113, 18.254], [80.098, 18.193], [80.105, 18.134]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "nagarkurnool",
        "name": "Nagarkurnool",
        "centroid": [78.3278, 16.4816]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.263, 16.421], [78.345, 16.394], [78.397, 16.449], [78.384, 16.537], [78.324, 16.577], [78.251, 16.542], [78.244, 16.478], [78.263, 16.421]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "nalgonda",
        "name": "Nalgonda",
        "centroid": [79.2668, 17.0585]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.195, 16.984], [79.279, 16.963], [79.341, 17.019], [79.326, 17.112], [79.273, 17.154], [79.196, 17.132], [79.178, 17.069], [79.195, 16.984]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "narayanpet",
        "name": "Narayanpet",
        "centroid": [77.5046, 16.7342]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[77.453, 16.676], [77.506, 16.658], [77.558, 16.707], [77.551, 16.791], [77.504, 16.825], [77.456, 16.791], [77.444, 16.732], [77.453, 16.676]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "nirmal",
        "name": "Nirmal",
        "centroid": [78.3501, 19.0967]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.278, 19.039], [78.357, 19.017], [78.417, 19.069], [78.415, 19.152], [78.358, 19.196], [78.286, 19.172], [78.264, 19.105], [78.278, 19.039]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "nizamabad",
        "name": "Nizamabad",
        "centroid": [78.0944, 18.6726]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.034, 18.612], [78.106, 18.589], [78.167, 18.642], [78.153, 18.719], [78.098, 18.755], [78.032, 18.738], [78.015, 18.675], [78.034, 18.612]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "peddapalli",
        "name": "Peddapalli",
        "centroid": [79.3835, 18.6156]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.328, 18.557], [79.387, 18.537], [79.445, 18.584], [79.437, 18.652], [79.389, 18.694], [79.325, 18.678], [79.312, 18.613], [79.328, 18.557]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "rajanna",
        "name": "Rajanna Sircilla",
        "centroid": [78.8433, 18.3867]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.785, 18.339], [78.849, 18.325], [78.897, 18.364], [78.887, 18.435], [78.842, 18.467], [78.789, 18.442], [78.782, 18.381], [78.785, 18.339]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "rangareddy",
        "name": "Ranga Reddy",
        "centroid": [78.0830, 17.3974]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.029, 17.342], [78.091, 17.322], [78.143, 17.369], [78.128, 17.442], [78.078, 17.481], [78.019, 17.462], [78.001, 17.397], [78.029, 17.342]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "sangareddy",
        "name": "Sangareddy",
        "centroid": [77.6148, 17.6473]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[77.547, 17.583], [77.616, 17.561], [77.679, 17.609], [77.672, 17.689], [77.617, 17.733], [77.554, 17.716], [77.536, 17.646], [77.547, 17.583]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "siddipet",
        "name": "Siddipet",
        "centroid": [78.8526, 18.1023]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.796, 18.042], [78.856, 18.021], [78.912, 18.069], [78.904, 18.142], [78.852, 18.183], [78.796, 18.163], [78.779, 18.096], [78.796, 18.042]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "suryapet",
        "name": "Suryapet",
        "centroid": [79.6248, 17.1337]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.562, 17.072], [79.631, 17.052], [79.689, 17.101], [79.681, 17.176], [79.629, 17.215], [79.559, 17.196], [79.542, 17.131], [79.562, 17.072]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "vikarabad",
        "name": "Vikarabad",
        "centroid": [77.7556, 17.3387]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[77.693, 17.285], [77.751, 17.264], [77.814, 17.309], [77.807, 17.389], [77.753, 17.427], [77.691, 17.407], [77.675, 17.342], [77.693, 17.285]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "wanaparthy",
        "name": "Wanaparthy",
        "centroid": [78.0611, 16.3604]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[77.999, 16.301], [78.064, 16.279], [78.121, 16.331], [78.111, 16.402], [78.063, 16.441], [77.999, 16.421], [77.981, 16.359], [77.999, 16.301]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "warangal",
        "name": "Warangal",
        "centroid": [79.6836, 17.9748]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[79.622, 17.923], [79.681, 17.896], [79.747, 17.946], [79.738, 18.022], [79.687, 18.062], [79.619, 18.042], [79.602, 17.982], [79.622, 17.923]]]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "id": "yadadri",
        "name": "Yadadri Bhuvanagiri",
        "centroid": [78.9499, 17.5083]
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [[[78.889, 17.452], [78.952, 17.433], [79.008, 17.479], [78.999, 17.555], [78.947, 17.594], [78.887, 17.572], [78.869, 17.511], [78.889, 17.452]]]
      }
    }
  ]
};

// Helper function to convert latitude/longitude to SVG coordinates
export const geoToSvg = (lat: number, lng: number, width: number, height: number) => {
  // These bounds are approximate for Telangana
  const minLng = 77.0;
  const maxLng = 81.0;
  const minLat = 16.0;
  const maxLat = 20.0;
  
  // Adjust padding
  const padding = 40;
  const availableWidth = width - (padding * 2);
  const availableHeight = height - (padding * 2);
  
  // Convert to x,y coordinates
  const x = padding + (availableWidth * (lng - minLng) / (maxLng - minLng));
  const y = height - padding - (availableHeight * (lat - minLat) / (maxLat - minLat));
  
  return { x, y };
};

// Convert GeoJSON polygon coordinates to SVG path
export const geoPolygonToSvgPath = (coordinates: number[][][], width: number, height: number) => {
  const polygon = coordinates[0]; // Get first polygon (ignoring holes for simplicity)
  
  if (!polygon || polygon.length === 0) return '';
  
  let path = '';
  
  polygon.forEach((point, index) => {
    const { x, y } = geoToSvg(point[1], point[0], width, height);
    
    if (index === 0) {
      path += `M${x},${y}`;
    } else {
      path += ` L${x},${y}`;
    }
  });
  
  // Close the path
  path += ' Z';
  
  return path;
};

// Helper function to generate a path for a district
export const getDistrictPath = (districtId: string, width: number, height: number) => {
  const feature = telanganaDistrictBoundaries.features.find(
    f => f.properties.id === districtId
  );
  
  if (!feature || !feature.geometry.coordinates) return '';
  
  return geoPolygonToSvgPath(feature.geometry.coordinates, width, height);
};

// Helper function to get a district's centroid
export const getDistrictCentroid = (districtId: string, width: number, height: number) => {
  const feature = telanganaDistrictBoundaries.features.find(
    f => f.properties.id === districtId
  );
  
  if (!feature || !feature.properties.centroid) {
    return { x: 0, y: 0 }; 
  }
  
  const [lng, lat] = feature.properties.centroid;
  return geoToSvg(lat, lng, width, height);
};

// All district IDs
export const getAllDistrictIds = () => 
  telanganaDistrictBoundaries.features.map(f => f.properties.id);
